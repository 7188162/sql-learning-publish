<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>第6章 (発展) データベース設計の初歩 on SQL Master Hub</title>
    <link>https://example.org/chapter6/</link>
    <description>Recent content in 第6章 (発展) データベース設計の初歩 on SQL Master Hub</description>
    <generator>Hugo</generator>
    <language>ja-jp</language>
    <atom:link href="https://example.org/chapter6/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>6-1. なぜ「正規化」が必要なのか？</title>
      <link>https://example.org/chapter6/6-1-normalization/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://example.org/chapter6/6-1-normalization/</guid>
      <description>&lt;p&gt;もし、すべてのデータをExcelの一枚のシートのように管理したらどうなるでしょうか？&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;悪いテーブル設計の例 (&lt;code&gt;bad_sales_table&lt;/code&gt;)&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;注文ID&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;注文日&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;顧客ID&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;顧客名&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;担当者ID&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;担当者名&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;担当部署&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;商品ID&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;商品名&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;単価&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;数量&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;101&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;2024-01-10&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;1&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;(株)ABC&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;1&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;山田太郎&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;営業部&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;101&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;ノートPC A&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;120000&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;2&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;102&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;2024-01-12&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;2&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;(株)DEF&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;3&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;佐藤次郎&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;営業部&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;201&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;モニター&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;30000&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;5&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;103&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;2024-01-15&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;1&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;(株)ABC&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;1&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;山田太郎&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;営業部&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;102&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;ノートPC B&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;150000&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;1&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;p&gt;このテーブルには、以下のような問題があります。&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;データの冗長性:&lt;/strong&gt; (株)ABCや山田太郎さんの情報が何度も繰り返し登場し、無駄が多い。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;更新時の問題（更新異常）:&lt;/strong&gt; 山田太郎さんの部署が「第1営業部」に変わった場合、関連するすべての行を修正する必要があり、修正漏れのリスクがある。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;追加時の問題（追加異常）:&lt;/strong&gt; まだ一度も商品を販売していない「新人営業マン」の情報を登録できない（注文がないため）。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;削除時の問題（削除異常）:&lt;/strong&gt; 注文102のレコードを削除すると、(株)DEFという顧客が存在したという情報まで一緒に消えてしまう。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;これらの問題を解決し、データを「あるべき姿」に整理するプロセスが&lt;strong&gt;正規化&lt;/strong&gt;です。&lt;/p&gt;</description>
    </item>
    <item>
      <title>6-2. 第1～第3正規形までの考え方</title>
      <link>https://example.org/chapter6/6-2-normal-forms/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://example.org/chapter6/6-2-normal-forms/</guid>
      <description>&lt;p&gt;正規化にはいくつかの段階があります。ここでは、実務上特に重要な第3正規形までを解説します。&lt;/p&gt;&#xA;&lt;h3 id=&#34;第1正規形-1nf&#34;&gt;第1正規形 (1NF)&lt;/h3&gt;&#xA;&lt;p&gt;&lt;strong&gt;ルール: 「一つのセルには、一つの値しか含まない」&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;ある列にカンマ区切りで複数の値が入っているような状態（非原子的な値）を解消します。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;&lt;strong&gt;違反例:&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;employee_id&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;hobbies&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;1&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;読書, 映画鑑賞&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;p&gt;&lt;strong&gt;改善後:&lt;/strong&gt; &lt;code&gt;employee_hobbies&lt;/code&gt; テーブルを新たに作成&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;employee_id&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;hobby&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;1&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;読書&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;1&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;映画鑑賞&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;h3 id=&#34;第2正規形-2nf&#34;&gt;第2正規形 (2NF)&lt;/h3&gt;&#xA;&lt;p&gt;&lt;strong&gt;ルール: 「主キーの一部だけに依存する列をなくす」&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;これは、複数の列を組み合わせた&lt;strong&gt;複合主キー&lt;/strong&gt;を持つテーブルに関係します。主キーの一部だけで一意に決まる列があれば、それは別のテーブルに切り出すべきです。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;&lt;strong&gt;違反例 (&lt;code&gt;order_details&lt;/code&gt;):&lt;/strong&gt; 主キーは &lt;code&gt;(注文ID, 商品ID)&lt;/code&gt;&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th style=&#34;text-align: center&#34;&gt;注文ID&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: center&#34;&gt;商品ID&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;商品名&lt;/strong&gt;&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;数量&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: center&#34;&gt;101&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: center&#34;&gt;101&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;ノートPC A&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;2&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: center&#34;&gt;101&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: center&#34;&gt;201&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;モニター&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;1&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;p&gt;このテーブルでは、「商品名」は「商品ID」だけで決まります。主キーの一部である「商品ID」にしか依存していません。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;改善後:&lt;/strong&gt; &lt;code&gt;products&lt;/code&gt; テーブルと &lt;code&gt;order_details&lt;/code&gt; テーブルに分割&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;&lt;code&gt;products&lt;/code&gt;&lt;/strong&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th style=&#34;text-align: center&#34;&gt;商品ID&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;商品名&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: center&#34;&gt;101&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;ノートPC A&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: center&#34;&gt;201&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;モニター&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;&lt;code&gt;order_details&lt;/code&gt;&lt;/strong&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th style=&#34;text-align: center&#34;&gt;注文ID&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: center&#34;&gt;商品ID&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;数量&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: center&#34;&gt;101&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: center&#34;&gt;101&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;2&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: center&#34;&gt;101&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: center&#34;&gt;201&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;1&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;第3正規形-3nf&#34;&gt;第3正規形 (3NF)&lt;/h3&gt;&#xA;&lt;p&gt;&lt;strong&gt;ルール: 「主キー以外の列に依存する列をなくす」&lt;/strong&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>6-3. ER図の読み方</title>
      <link>https://example.org/chapter6/6-3-er-diagram/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://example.org/chapter6/6-3-er-diagram/</guid>
      <description>&lt;p&gt;&lt;strong&gt;ER図 (Entity-Relationship Diagram)&lt;/strong&gt; とは、データベースの設計図です。どのテーブル（エンティティ）があり、それらがどのように関連（リレーションシップ）しているかを視覚的に表現します。&lt;/p&gt;&#xA;&#xD;&#xA;&lt;div class=&#34;mermaid&#34;&gt;&#xD;&#xA;    &#xD;&#xA;erDiagram&#xD;&#xA;    departments ||--o{ employees : &#34;所属&#34;&#xD;&#xA;    customers   ||--o{ sales     : &#34;購入&#34;&#xD;&#xA;    employees   ||--o{ sales     : &#34;販売&#34;&#xD;&#xA;    products    ||--o{ sales     : &#34;商品&#34;&#xD;&#xA;&#xD;&#xA;&lt;/div&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;エンティティ (Entity):&lt;/strong&gt; 四角で表現され、テーブルに相当します。（例：&lt;code&gt;departments&lt;/code&gt;, &lt;code&gt;employees&lt;/code&gt;）&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;リレーションシップ (Relationship):&lt;/strong&gt; エンティティ間を結ぶ線で、テーブル間の関連を示します。線の名前は関連の内容を表します（例：「所属」）。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;カーディナリティ (Cardinality):&lt;/strong&gt; 線の両端の記号で、対応関係の数を示します。&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;|&lt;/code&gt;: 1を表す&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;o&lt;/code&gt;: 0を表す&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;{&lt;/code&gt;: 多を表す&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;||--o{&lt;/code&gt;: 「1対0以上（多）」の関係。&lt;code&gt;departments&lt;/code&gt;の1レコードに対し、&lt;code&gt;employees&lt;/code&gt;のレコードは0件以上対応する（＝1つの部署に0人以上の従業員が所属する）。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;ER図を読むことで、データベース全体の構造を直感的に把握することができます。&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
